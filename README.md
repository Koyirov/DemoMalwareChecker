## Malware Scanner Check Service

### Overview

The <b>Malware Scanner Check Service</b> is a Java-based application designed to scan PDF
documents for blacklisted IBANs. This service provides a RESTful API that allows clients to
check if a PDF document contains any IBANs from a predefined blacklist. The application
utilizes Apache PDFBox to extract text from PDF documents and performs the check against a
blacklist of IBANs.

### Overview

* <b>RESTful API</b>: Exposes an endpoint to accept PDF document URLs and file types.
* <b>Document Scanning</b>: Loads and reads PDF documents from provided URLs.
* <b>Blacklist Checking</b>: Checks the extracted text for blacklisted IBANs.
* <b>Detailed Responses</b>: Returns detailed results about the presence of blacklisted IBANs

### Project Components

#### 1. Controller.java

This is the main controller for handling API requests. It includes:
* <b>Endpoint</b>: /api/check
* <b>Method</b>: POST
* <b>Request Body</b>: Accepts a CheckEvent object containing the URL of the PDF and the
file type.
* <b>Response</b>: Returns a CheckResultEvent object with the result of the check.

#### 2. CheckEvent.java

Defines the structure of the request payload.

#### 3. CheckResultEvent.java

Defines the structure of the response payload.

#### 4. Iban.java

Defines the structure of IBAN.

#### 5. CheckerService.java

Loads the document, extracts text and checks for blacklisted IBANs(checks firstly cache to avoid 
duplicate check and to improve performance) and handles exceptions during document processing.

#### 6. IbanBlackListService.java

Contains black list and the logic to check IBANs in PDF documents.

#### 7. CacheService.java

Contains some logic to improve performance.

### How It Works

1. <b>Client Request</b>:
   * A client sends a <span style="color:green">POST</span> request to <span style="color:green">/api/check</span> with a JSON payload containing
   the document URL and file type.
2. <b>Document Processing</b>:
   * The service loads the PDF document from the provided URL.
   * It extracts text from the PDF using Apache PDFBox.
3. <b>IBAN Checking</b>:
   * The extracted text is checked against a predefined list of blacklisted IBANs.
   * The result is determined based on whether any blacklisted IBANs are found.
4. <b>Response</b>:
   * The service responds with a <span style="color:green">CheckResultEvent</span> object indicating the result of
   the check.

### Usage

#### API Endpoint
* <b>URL</b>: <span style="color:green">/api/check</span>
* <b>Method</b>: <span style="color:green">POST</span>

#### Request Body:
JSON
```
{
    "url": "https://example.com//document.pdf",
    "fileType": "pdf"
}
```

or if file

```
{
    "url": "C://Users//YourName//IdeaProjects//DemoMalwareChecker//assets//Testdaten_Rechnungseinreichung.pdf",
    "fileType": "pdf"
}
```

#### Response Example:
JSON
```
{
    "state": "OK",
    "name": "Name of file",
    "details": "Document doesn't contain suspected IBAN"
}
```

#### Build the Project
Ensure you have Maven installed. Build the project using:
```
mvn clean install
```

#### Run the Application
Start the application with:
```
mvn spring-boot:run
```

#### Access the API
The API will be accessible at <span style="color:green">http://localhost:8080/api/check</span>.

### Dependencies
* <b>Spring Boot</b>.
* <b>Jakarta</b>.
* <b>Apache PDFBox</b>.
* <b>Lombok</b>.

### Used tool to make request
<b>Postman API Platform </b>